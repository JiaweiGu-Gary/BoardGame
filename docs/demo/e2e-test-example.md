# E2E æµ‹è¯•ç¤ºä¾‹ï¼šé›·éœ†ä¸‡é’§æŠ€èƒ½ï¼ˆå¯è§†åŒ–ï¼‰

> **æ–‡ä»¶ä½ç½®**ï¼š`e2e/dicethrone-thunder-strike.e2e.ts`  
> **æµ‹è¯•æ¡†æ¶**ï¼šPlaywright  
> **æµ‹è¯•å¯¹è±¡**ï¼šDiceThrone æ¸¸æˆä¸­æ­¦åƒ§çš„"é›·éœ†ä¸‡é’§"æŠ€èƒ½

---

## ğŸ¬ æµ‹è¯•æµç¨‹å¯è§†åŒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 1 æ­¥ï¼šåˆ›å»ºåœ¨çº¿å¯¹å±€                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Host æµè§ˆå™¨ â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Guest æµè§ˆå™¨ â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚         â”‚                            â”‚                       â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                      â–¼                                       â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚              â”‚  æ¸¸æˆæœåŠ¡å™¨   â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 2 æ­¥ï¼šé€‰æ‹©è§’è‰²                                            â”‚
â”‚  Host: é€‰æ‹©æ­¦åƒ§ ğŸ¥‹    Guest: é€‰æ‹©æ­¦åƒ§ ğŸ¥‹                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 3 æ­¥ï¼šæ³¨å…¥æµ‹è¯•çŠ¶æ€                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  window.__BG_TEST_HARNESS__              â”‚               â”‚
â”‚  â”‚  â”œâ”€ state.patch({ tokens: { taiji: 2 }}) â”‚  æ·»åŠ å¤ªææ ‡è®°  â”‚
â”‚  â”‚  â””â”€ dice.setValues([3,3,3,1,1])          â”‚  æ§åˆ¶éª°å­ç»“æœ  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 4 æ­¥ï¼šæ‰§è¡Œç”¨æˆ·æ“ä½œ                                        â”‚
â”‚                                                              â”‚
â”‚  ğŸ² ç‚¹å‡»æ·éª°æŒ‰é’®                                              â”‚
â”‚     â†“                                                        â”‚
â”‚  â±ï¸  ç­‰å¾…åŠ¨ç”»ï¼ˆ2.5ç§’ï¼‰                                        â”‚
â”‚     â†“                                                        â”‚
â”‚  âœ… ç‚¹å‡»ç¡®è®¤æŒ‰é’®                                              â”‚
â”‚     â†“                                                        â”‚
â”‚  âš¡ ç‚¹å‡»"é›·éœ†ä¸‡é’§"æŠ€èƒ½æŒ‰é’®                                     â”‚
â”‚     â†“                                                        â”‚
â”‚  â¡ï¸  æ¨è¿›åˆ°é˜²å¾¡é˜¶æ®µ                                           â”‚
â”‚     â†“                                                        â”‚
â”‚  ğŸ² Guest æ·éª° + ç¡®è®¤                                         â”‚
â”‚     â†“                                                        â”‚
â”‚  â­ï¸  æ¨è¿›åˆ°æ”»å‡»ç»“ç®—                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 5 æ­¥ï¼šéªŒè¯ç»“æœ                                            â”‚
â”‚                                                              â”‚
â”‚  ğŸ“¸ æˆªå›¾éªŒè¯ï¼šé¡µé¢æ˜¾ç¤º"é‡æ·"ç›¸å…³æ–‡æœ¬                           â”‚
â”‚  ğŸ“Š çŠ¶æ€éªŒè¯ï¼š                                                â”‚
â”‚     âœ… pendingBonusDiceSettlement å­˜åœ¨                        â”‚
â”‚     âœ… å¥–åŠ±éª°æ•°é‡ = 3                                         â”‚
â”‚     âœ… é‡æ·æ¶ˆè€— = 2 ä¸ªå¤ªææ ‡è®°                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

---

## ğŸ“¸ å…³é”®æˆªå›¾æ—¶åˆ»

### æ—¶åˆ» 1ï¼šæ·éª°åï¼ˆ3 ä¸ªæŒé¢ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ² éª°å­ç»“æœ                          â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”     â”‚
â”‚  â”‚ æŒ â”‚ â”‚ æŒ â”‚ â”‚ æŒ â”‚ â”‚ æ‹³ â”‚ â”‚ æ‹³ â”‚     â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜     â”‚
â”‚                                      â”‚
â”‚  [ç¡®è®¤] æŒ‰é’®                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ—¶åˆ» 2ï¼šæŠ€èƒ½æ¿€æ´»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ å¯ç”¨æŠ€èƒ½                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  é›·éœ†ä¸‡é’§                    â”‚     â”‚
â”‚  â”‚  éœ€è¦ï¼š3 ä¸ªæŒé¢              â”‚     â”‚
â”‚  â”‚  æ•ˆæœï¼šæŠ•æ· 3 ä¸ªå¥–åŠ±éª°       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                      â”‚
â”‚  [æ¿€æ´»] æŒ‰é’®                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ—¶åˆ» 3ï¼šé‡æ·äº¤äº’ï¼ˆæœ‰å¤ªææ ‡è®°ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ² å¥–åŠ±éª°ç»“æœ                        â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                  â”‚
â”‚  â”‚ 4 â”‚ â”‚ 2 â”‚ â”‚ 6 â”‚                  â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜                  â”‚
â”‚                                      â”‚
â”‚  ğŸ’ æ¶ˆè€— 2 ä¸ªå¤ªææ ‡è®°å¯é‡æ·           â”‚
â”‚                                      â”‚
â”‚  [é‡æ·] [è·³è¿‡]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æ ¸å¿ƒä»£ç ç‰‡æ®µ

### 1. åˆ›å»ºå¯¹å±€ï¼ˆä½¿ç”¨ Fixtureï¼‰

```typescript
const setup = await setupDTOnlineMatch(browser, baseURL);
const { hostPage, guestPage, matchId } = setup;
```

### 2. æ³¨å…¥æµ‹è¯•çŠ¶æ€

```typescript
// æ·»åŠ å¤ªææ ‡è®°
await hostPage.evaluate(() => {
  window.__BG_TEST_HARNESS__!.state.patch({
    core: {
      players: {
        '0': { tokens: { taiji: 2 } }
      }
    }
  });
});

// æ§åˆ¶éª°å­ç»“æœ
await hostPage.evaluate(() => {
  window.__BG_TEST_HARNESS__!.dice.setValues([3, 3, 3, 1, 1]);
});
```

### 3. æ‰§è¡Œç”¨æˆ·æ“ä½œ

```typescript
// æ·éª°
const rollButton = hostPage.locator('[data-tutorial-id="dice-roll-button"]');
await rollButton.click();
await hostPage.waitForTimeout(2500);

// ç¡®è®¤
const confirmButton = hostPage.locator('button').filter({ hasText: /ç¡®è®¤|Confirm/i });
await confirmButton.click();

// æ¿€æ´»æŠ€èƒ½
const thunderStrikeButton = hostPage.locator('button').filter({ hasText: /é›·éœ†ä¸‡é’§/i });
await thunderStrikeButton.click();
```

### 4. éªŒè¯ç»“æœ

```typescript
// UI éªŒè¯
const pageText = await hostPage.textContent('body');
expect(pageText?.includes('é‡æ·')).toBeTruthy();

// çŠ¶æ€éªŒè¯
const finalState = await hostPage.evaluate(() => {
  return window.__BG_TEST_HARNESS__!.state.get();
});
expect(finalState.core.pendingBonusDiceSettlement?.dice).toHaveLength(3);
```

---

## ğŸ¯ æµ‹è¯•è¦†ç›–ç‚¹

| éªŒè¯é¡¹ | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| âœ… æˆ¿é—´åˆ›å»º | é›†æˆ | Host + Guest æˆåŠŸè¿æ¥ |
| âœ… è§’è‰²é€‰æ‹© | UI | æ­¦åƒ§è§’è‰²é€‰æ‹©æˆåŠŸ |
| âœ… éª°å­æ³¨å…¥ | å·¥å…· | TestHarness æ§åˆ¶éšæœºæ€§ |
| âœ… æŠ€èƒ½è§¦å‘ | é€»è¾‘ | 3 ä¸ªæŒé¢è§¦å‘é›·éœ†ä¸‡é’§ |
| âœ… å¥–åŠ±éª°æŠ•æ· | é€»è¾‘ | æŠ•æ· 3 ä¸ªå¥–åŠ±éª° |
| âœ… é‡æ·äº¤äº’ | UI | æ˜¾ç¤ºé‡æ·é€‰é¡¹ï¼ˆæœ‰å¤ªææ ‡è®°ï¼‰ |
| âœ… çŠ¶æ€åŒæ­¥ | ç½‘ç»œ | Host å’Œ Guest çŠ¶æ€ä¸€è‡´ |

---

## ğŸš€ è¿è¡Œæµ‹è¯•

### æ–¹å¼ 1ï¼šå¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰

```bash
# ç»ˆç«¯ 1ï¼šå¯åŠ¨æ‰€æœ‰æœåŠ¡
npm run dev

# ç»ˆç«¯ 2ï¼šè¿è¡Œæµ‹è¯•ï¼ˆå¸¦ UIï¼‰
npm run test:e2e -- dicethrone-thunder-strike --headed
```

### æ–¹å¼ 2ï¼šCI æ¨¡å¼

```bash
# è‡ªåŠ¨å¯åŠ¨æœåŠ¡ + è¿è¡Œæµ‹è¯•
npm run test:e2e:ci -- dicethrone-thunder-strike
```

### æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š

```bash
# ç”Ÿæˆ HTML æŠ¥å‘Š
npx playwright show-report

# æŸ¥çœ‹æˆªå›¾å’Œè§†é¢‘
# ä½ç½®ï¼štest-results/dicethrone-thunder-strike/
```

---

## ğŸ“Š æµ‹è¯•è¾“å‡ºç¤ºä¾‹

```
Running 1 test using 1 worker

[Test] å¯¹å±€åˆ›å»ºæˆåŠŸ: match-abc123
[Test] è§’è‰²é€‰æ‹©å®Œæˆ
[Test] æ¸¸æˆå¼€å§‹
[Test] æ¸¸æˆæ£‹ç›˜å·²åŠ è½½
[Test] æµ‹è¯•å·¥å…·å·²å°±ç»ª
[Test] å·²è®¾ç½®ç©å®¶0æœ‰2ä¸ªå¤ªææ ‡è®°
[Test] å·²æ³¨å…¥éª°å­å€¼: [3,3,3,1,1]ï¼ˆ3ä¸ªæŒé¢ï¼‰
[Test] å·²ç‚¹å‡»æ·éª°æŒ‰é’®
[Test] å·²ç¡®è®¤æ·éª°
[Test] éª°å­å€¼: [3, 3, 3, 1, 1]
[Test] âœ… éª°å­éªŒè¯é€šè¿‡ï¼šæœ‰ 3 ä¸ªæŒé¢
[Test] å·²ç‚¹å‡»é›·éœ†ä¸‡é’§æŠ€èƒ½
[Test] å·²æ¨è¿›åˆ°é˜²å¾¡é˜¶æ®µ
[Test] Guest å·²ç¡®è®¤æ·éª°
[Test] Guest å·²è·³è¿‡é˜²å¾¡æŠ€èƒ½
[Test] å·²æ¨è¿›åˆ°æ”»å‡»ç»“ç®—
[Test] é¡µé¢æ˜¯å¦æ˜¾ç¤ºé‡æ·æ–‡æœ¬: true
[Test] âœ… æµ‹è¯•é€šè¿‡ï¼šå¥–åŠ±éª°æŠ•æ·å’Œé‡æ·äº¤äº’æ­£ç¡®æ˜¾ç¤º

  âœ“ dicethrone-thunder-strike.e2e.ts:15:5 â€º åº”è¯¥æ­£ç¡®æ˜¾ç¤ºå¥–åŠ±éª°æŠ•æ·å’Œé‡æ·äº¤äº’ï¼ˆæœ‰å¤ªææ ‡è®°ï¼‰ (45s)

  1 passed (45s)
```

---

## ğŸ’¡ æµ‹è¯•è®¾è®¡äº®ç‚¹

### 1. ä½¿ç”¨ TestHarness æ§åˆ¶éšæœºæ€§

```typescript
// âŒ ä¸ç¨³å®šï¼šä¾èµ–çœŸéšæœº
await rollButton.click();
// å¯èƒ½æŠ•å‡ºä»»æ„ç»“æœï¼Œæµ‹è¯•ä¸ç¨³å®š

// âœ… ç¨³å®šï¼šæ³¨å…¥å›ºå®šå€¼
window.__BG_TEST_HARNESS__!.dice.setValues([3, 3, 3, 1, 1]);
await rollButton.click();
// ä¿è¯æ¯æ¬¡éƒ½æ˜¯ 3 ä¸ªæŒé¢
```

### 2. ä½¿ç”¨ Fixture ç®€åŒ–æˆ¿é—´åˆ›å»º

```typescript
// âŒ ç¹çï¼šæ‰‹åŠ¨åˆ›å»ºæˆ¿é—´
const hostPage = await browser.newPage();
await hostPage.goto('/lobby');
await hostPage.click('button:has-text("åˆ›å»ºæˆ¿é—´")');
// ... 20+ è¡Œä»£ç 

// âœ… ç®€æ´ï¼šä½¿ç”¨ Fixture
const { hostPage, guestPage } = await setupDTOnlineMatch(browser, baseURL);
// 1 è¡Œæå®š
```

### 3. åŒé‡éªŒè¯ï¼ˆUI + çŠ¶æ€ï¼‰

```typescript
// UI éªŒè¯ï¼šç”¨æˆ·çœ‹åˆ°çš„
const pageText = await hostPage.textContent('body');
expect(pageText?.includes('é‡æ·')).toBeTruthy();

// çŠ¶æ€éªŒè¯ï¼šåº•å±‚æ•°æ®
const state = await hostPage.evaluate(() => {
  return window.__BG_TEST_HARNESS__!.state.get();
});
expect(state.core.pendingBonusDiceSettlement).toBeDefined();
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: æµ‹è¯•è¶…æ—¶

**åŸå› **ï¼šæœåŠ¡æœªå¯åŠ¨æˆ–ç«¯å£å ç”¨

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
npm run test:e2e:cleanup

# é‡æ–°å¯åŠ¨
npm run dev
```

### Q2: æˆªå›¾ä¸æ¸…æ™°

**åŸå› **ï¼šé»˜è®¤åˆ†è¾¨ç‡è¾ƒä½

**è§£å†³**ï¼š
```typescript
const context = await browser.newContext({
  viewport: { width: 1920, height: 1080 }  // æé«˜åˆ†è¾¨ç‡
});
```

### Q3: æ‰¾ä¸åˆ°å…ƒç´ 

**åŸå› **ï¼šåŠ¨ç”»æœªå®Œæˆæˆ–å…ƒç´ æœªæ¸²æŸ“

**è§£å†³**ï¼š
```typescript
// å¢åŠ è¶…æ—¶æ—¶é—´
await expect(button).toBeVisible({ timeout: 10000 });

// ç­‰å¾…çŠ¶æ€å˜åŒ–
await hostPage.waitForTimeout(1000);
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [è‡ªåŠ¨åŒ–æµ‹è¯•æŒ‡å—](../automated-testing.md)
- [E2E Fixture è¿ç§»æŒ‡å—](../e2e-fixture-migration-guide.md)
- [æµ‹è¯•å·¥å…·å¿«é€Ÿå‚è€ƒ](../testing-tools-quick-reference.md)
- [TestHarness ä½¿ç”¨æ–‡æ¡£](../testing-infrastructure.md)
